<template>
  <div class="main-process-detail">
    <div class="flex items-center gap-3 mb-4">
      <div class="text-3xl">âš™ï¸</div>
      <div>
        <h4 class="text-xl font-bold text-gray-800">ä¸»è¿›ç¨‹ (Main Process)</h4>
        <p class="text-sm text-gray-500">Electron ä¸»è¿›ç¨‹ - åº”ç”¨æ ¸å¿ƒ</p>
      </div>
    </div>

    <!-- å¯åŠ¨æµç¨‹ -->
    <div class="mb-6">
      <h5 class="font-semibold text-gray-700 mb-3 flex items-center gap-2">
        <span class="text-lg">ğŸš€</span>
        å¯åŠ¨æµç¨‹
      </h5>
      <div class="space-y-2">
        <div 
          v-for="(step, index) in bootSteps" 
          :key="index"
          class="flex items-start gap-3 p-3 bg-blue-50 rounded-lg border border-blue-100 hover:bg-blue-100 transition-colors"
        >
          <div class="flex-shrink-0 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold">
            {{ index + 1 }}
          </div>
          <div class="flex-1">
            <div class="font-medium text-gray-800">{{ step.title }}</div>
            <div class="text-sm text-gray-600 mt-1">{{ step.desc }}</div>
            <code class="text-xs text-blue-600 mt-1 block">{{ step.file }}</code>
          </div>
        </div>
      </div>
    </div>

    <!-- æœåŠ¡æä¾›è€… -->
    <div>
      <h5 class="font-semibold text-gray-700 mb-3 flex items-center gap-2">
        <span class="text-lg">ğŸ”Œ</span>
        æœåŠ¡æä¾›è€… (Service Providers)
      </h5>
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
        <div 
          v-for="provider in providers" 
          :key="provider.name"
          class="p-3 bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg border border-gray-200 hover:shadow-md transition-all"
        >
          <div class="flex items-center gap-2 mb-2">
            <span class="text-xl">{{ provider.icon }}</span>
            <span class="font-semibold text-gray-800">{{ provider.name }}</span>
          </div>
          <p class="text-sm text-gray-600">{{ provider.desc }}</p>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
const bootSteps = [
  {
    title: 'ç­‰å¾… Electron å°±ç»ª',
    desc: 'app.whenReady() - ç­‰å¾… Electron åº”ç”¨åˆå§‹åŒ–å®Œæˆ',
    file: 'bootstrap/app.ts'
  },
  {
    title: 'åˆ›å»ºåº”ç”¨å®ä¾‹',
    desc: 'ä½¿ç”¨ cosy-framework åˆ›å»ºåº”ç”¨ï¼Œæ³¨å†Œæ‰€æœ‰æœåŠ¡æä¾›è€…',
    file: 'createElectronApp(config)'
  },
  {
    title: 'åˆå§‹åŒ–æ’ä»¶ç³»ç»Ÿ',
    desc: 'åŠ è½½ç”¨æˆ·æ’ä»¶ã€å¼€å‘æ’ä»¶ï¼Œæ‰«ææ’ä»¶ç›®å½•',
    file: 'PluginFacade.initialize()'
  },
  {
    title: 'æ³¨å†Œè·¯ç”±ä¸ IPC',
    desc: 'æ³¨å†Œæ‰€æœ‰ IPC å¤„ç†å™¨ï¼Œå»ºç«‹ä¸»è¿›ç¨‹ä¸æ¸²æŸ“è¿›ç¨‹çš„é€šä¿¡',
    file: 'registerRoutes()'
  },
  {
    title: 'å¯åŠ¨åº”ç”¨ç®¡ç†å™¨',
    desc: 'åˆ›å»ºæ‰˜ç›˜å›¾æ ‡ã€ä¸»çª—å£ï¼Œç›‘å¬ç³»ç»Ÿäº‹ä»¶',
    file: 'appManager.start()'
  }
];

const providers = [
  { name: 'AI', icon: 'ğŸ¤–', desc: 'AI æ¨¡å‹ç®¡ç†ï¼Œæ”¯æŒ DeepSeekã€OpenAI ç­‰' },
  { name: 'Plugin', icon: 'ğŸ§©', desc: 'æ’ä»¶åŠ è½½ã€ç®¡ç†ã€æ‰§è¡Œ' },
  { name: 'Window', icon: 'ğŸªŸ', desc: 'çª—å£ç®¡ç†ã€è§†å›¾æ§åˆ¶' },
  { name: 'State', icon: 'ğŸ“Š', desc: 'åº”ç”¨çŠ¶æ€ç®¡ç†' },
  { name: 'Keyboard', icon: 'âŒ¨ï¸', desc: 'å…¨å±€å¿«æ·é”®ç›‘å¬' },
  { name: 'Setting', icon: 'âš™ï¸', desc: 'é…ç½®ç®¡ç†' },
  { name: 'Update', icon: 'ğŸ”„', desc: 'è‡ªåŠ¨æ›´æ–°æ£€æŸ¥' },
  { name: 'MCP', icon: 'ğŸ”—', desc: 'Model Context Protocol' }
];
</script>
